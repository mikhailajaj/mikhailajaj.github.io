# Image Optimization Guidelines

Images often constitute a significant portion of a web page's weight, heavily impacting load times and performance. Optimizing images is crucial for a fast user experience in the Mikhail Ajaj Portfolio. Next.js provides a built-in Image component (`next/image`) that automates many best practices.

## Why Optimize Images?

-   **Faster Load Times**: Smaller image file sizes download quicker, especially on mobile or slow networks.
-   **Reduced Bandwidth Usage**: Saves data for users and reduces hosting costs.
-   **Improved Core Web Vitals**:
    *   **LCP (Largest Contentful Paint)**: Properly sized and optimized images load faster, improving LCP. `next/image` helps prevent layout shifts caused by images loading.
    *   **CLS (Cumulative Layout Shift)**: `next/image` requires dimensions (`width`, `height`) or `fill`, preventing layout shifts as images load.
-   **Better User Experience**: Faster loading images lead to a smoother, more engaging experience.

## Using the `next/image` Component

The `<Image>` component from `next/image` is the **recommended way** to handle images in Next.js applications. It builds upon the standard `<img>` tag and provides automatic optimizations:

-   **Size Optimization**: Automatically serves correctly sized images for different devices using modern image formats like WebP or AVIF (if the browser supports them).
-   **Visual Stability**: Prevents layout shift automatically by requiring image dimensions (`width`/`height`) or the `fill` prop.
-   **Faster Page Loads**: Images are only loaded when they enter the viewport (native browser lazy loading by default). Optionally allows priority loading for critical images (e.g., LCP elements).
-   **Asset Flexibility**: Works with local images (imported) or remote images (via `src` prop).

### Key Props & Usage

1.  **`src` (Required)**:
    *   **Local Images**: Import the image file directly. Next.js automatically determines `width`, `height`, and `blurDataURL` (for placeholder).
      ```jsx
      import profilePic from '../public/profile.jpg';
      // ...
      <Image src={profilePic} alt="User profile picture" />
      ```
    *   **Remote Images**: Provide the absolute URL string. Requires configuring allowed domains/patterns in `next.config.js` and **explicitly providing `width` and `height`**.
      ```javascript
      // next.config.js
      module.exports = {
        images: {
          remotePatterns: [
            {
              protocol: 'https',
              hostname: 'cdn.example.com',
              port: '',
              pathname: '/images/**',
            },
          ],
        },
      }
      ```
      ```jsx
      <Image
        src="https://cdn.example.com/images/project-a.png"
        alt="Project A screenshot"
        width={800} // Required for remote images
        height={600} // Required for remote images
      />
      ```

2.  **`alt` (Required)**: Provide descriptive alternative text for accessibility (screen readers) and SEO. Mark as empty (`alt=""`) for purely decorative images.

3.  **`width` & `height` (Required for remote images, optional for local)**: Specify the intrinsic dimensions of the image in pixels. This is used for aspect ratio calculation and preventing layout shift. Do *not* use these for styling the image's rendered size (use CSS or the `sizes` prop for that).

4.  **`fill` (Alternative to `width`/`height`)**:
    *   Use when you don't know the image dimensions upfront or want the image to fill its parent container (requires the parent to have `position: relative`, `position: fixed`, or `position: absolute`).
    *   The image will be styled with `position: absolute` and dimensions of `100%`.
    *   Often used with the `sizes` prop and `object-fit` CSS property on the image.
      ```jsx
      <div style={{ position: 'relative', width: '100%', height: '300px' }}>
        <Image
          src="/path/to/image.jpg"
          alt="Background"
          fill
          style={{ objectFit: 'cover' }} // CSS for how image fills container
          sizes="(max-width: 768px) 100vw, 50vw" // Optional: Responsive sizing hints
        />
      </div>
      ```

5.  **`sizes`**: A string providing hints to the browser about how wide the image will be at different viewport sizes. Helps the browser select the optimal image source from the `srcset` generated by `next/image`. Crucial for performance when using `fill` or when CSS causes the image to render at different sizes than its `width`/`height` props.

6.  **`priority`**: A boolean. If `true`, the image is considered high-priority (e.g., LCP element) and will be preloaded, and lazy loading is disabled. Use sparingly for critical, above-the-fold images.

7.  **`placeholder`**: Use `'blur'` (often with local images where `blurDataURL` is auto-generated) or `'empty'` to show a placeholder while the image loads. Requires `blurDataURL` prop if using `'blur'` with remote images.

## General Image Best Practices

-   **Choose the Right Format**:
    *   **WebP/AVIF**: Offer better compression than JPEG/PNG. `next/image` handles serving these automatically based on browser support.
    *   **JPEG**: Best for photographs.
    *   **PNG**: Best for graphics with transparency.
    *   **SVG**: Best for logos and icons (vector-based, scales without quality loss). Use standard `<img>` or inline SVG for SVGs, not typically `next/image`.
-   **Compress Images**: Even with `next/image`, ensure your source images are reasonably compressed before adding them to the project. Use tools like Squoosh, ImageOptim, or TinyPNG.
-   **Serve Responsive Images**: Use `next/image` with `sizes` prop where appropriate to ensure different sized images are served for different screen sizes/resolutions.
-   **Lazy Loading**: `next/image` enables lazy loading by default. Ensure critical, above-the-fold images use the `priority` prop to disable lazy loading for them.

By consistently using the `next/image` component and following general image optimization principles, you can ensure images enhance rather than hinder the performance of the Mikhail Ajaj Portfolio.